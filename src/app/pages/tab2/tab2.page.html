<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title color="secondary"> Asignacion Motoristas </ion-title>

    <ion-buttons slot="end">
      <ion-button color="warning"> {{noRepartidores}} </ion-button>
      <ion-button>
        <ion-icon slot="icon-only" name="bicycle-outline" color="secondary">
        </ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-progress-bar
      color="success"
      value="{{noRepartidores/8}}"
    ></ion-progress-bar>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">


  <ion-list>


    <ion-list *ngFor="let horario of horarios">
      <ion-list-header>
        <ion-label color="primary"
          >{{horario.hora_inicio}} - {{horario.hora_fin}}</ion-label
        >

        <ion-buttons>
          <ion-button
            (click)="asignaMotorista(horario.hora_inicio, horario.hora_fin)"
            color="success"
          >
            <ion-icon slot="icon-only" name="add-circle-outline"> </ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-list-header>

      <ion-item-sliding *ngFor="let repartidor of horario.motoristas" >
        <ion-item color="light">
          <ion-label slot="start">{{repartidor.nombre}}</ion-label>
          <ion-label>{{repartidor.hora_asignado}}</ion-label>
          <!--<ion-label slot="end">{{repartidor.tiempo_restante}}</ion-label>-->
          <ion-label slot="end">{{repartidor.tiempo_transcurrido}}</ion-label>
        </ion-item>

        <ion-item-options side="end">
          <ion-item-option
            color="danger"
            (click)="desasignaMotorista(repartidor._id, horario._id)"
            >Eliminar</ion-item-option
          >
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
  </ion-list>
</ion-content>
